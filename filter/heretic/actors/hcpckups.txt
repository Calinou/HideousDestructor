actor SyntheticTome : HDPickup replaces ArtiTomeOfPower
{
	spawnid 134
	+countitem
	+floatbob
	inventory.icon "ARTIPWBK"
	inventory.pickupmessage "tome of power"
	inventory.maxamount 35
	inventory.amount 7
	states
	{
	use:
		TNT1 A 0 A_JumpIfInventory("IsUsingTome",1,"nope")
		TNT1 A 0 A_GiveInventory("IsUsingTome",1)
		stop
	nope:
		TNT1 A 0
		fail
	spawn:
		PWBK A -1
		stop
	}
}
actor IsUsingTome : InventoryFlag {}


actor IsWinged : InventoryFlag {}
actor WingPower : HDPickup replaces ArtiFly
{
	+countitem
	+floatbob +nogravity
	inventory.icon "ARTISOAR"
	inventory.pickupmessage "wings of wrath"
	inventory.maxamount 16800
	inventory.amount 1050
	states
	{
	use:
		TNT1 A 0 A_GiveInventory("WingPower")
		TNT1 A 0 A_JumpIfInventory("IsWinged",1,"nope")
		TNT1 A 0 A_GiveInventory("IsWinged",1)
		TNT1 A 0 A_PlaySound("player/wingson",6)
		stop
	nope:
		TNT1 A 0 A_GiveInventory("WingPower")
		TNT1 A 0 A_PlaySound("player/wingsoff",6)
		TNT1 A 0 A_TakeInventory("IsWinged",999)
		stop
	spawn:
		SOAR ABCB 5
		loop
	}
}
actor WingFlap : ActionItem
{
	states
	{
	pickup:
		TNT1 A 0 A_ChangeVelocity(0.6,0,3,CVF_RELATIVE)
		TNT1 A 0 A_TakeInventory("WingPower",1)
		TNT1 A 0 A_PlaySound("weapons/staffhit",5)
		TNT1 A 0 A_JumpIfInventory("WingPower",1,3)
		TNT1 A 0 A_TakeInventory("IsWinged",1)
		TNT1 A 0 A_PlaySound("player/wingsoff",6)
		TNT1 A 0
		fail
	}
}

actor SyntheticPhial : HDPickup replaces CrystalVial
{
	+floatbob
	inventory.pickupmessage "regenerative phial"
	inventory.maxamount 12
	inventory.icon "ARTIPTN1"
	states
	{
	spawn:
		PTN1 ABC 3 A_SetTics(random(1,3))
		loop
	use:
		TNT1 A 0 A_JumpIfInventory("UsingMeds",1,2)
		TNT1 A 0 ACS_NamedExecuteAlways("UseFlask",0,2)
		stop
		TNT1 A 0
		fail
	}
}
actor SyntheticPhlask : HDPickup replaces ArtiHealth
{
	+floatbob
	inventory.pickupmessage "healing flask"
	inventory.maxamount 12
	inventory.icon "ARTIPTN2"
	inventory.amount 3
	states
	{
	spawn:
		PTN2 ABC 1 A_SetTics(random(2,6))
		loop
	use:
		TNT1 A 0 A_JumpIfInventory("UsingMeds",1,2)
		TNT1 A 0 ACS_NamedExecuteAlways("UseBigFlask",0,2)
		stop
		TNT1 A 0
		fail
	}
}





